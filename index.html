<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Will You Be My Valentine?</title>

<style>
:root{
  --pink1:#ffe7f1;
  --pink2:#fff7fb;
  --text:#2b2b2b;
}

*{
  box-sizing:border-box;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

body{
  margin:0;
  min-height:100vh;
  background: radial-gradient(circle at 20% 20%, var(--pink2), var(--pink1));
  overflow:hidden;
  color:var(--text);
}

/* ===== BACKGROUND COLLAGE (home screen) ===== */
.bg-collage{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:auto;
}

.photo{
  position:absolute;
  width:190px;
  height:190px;
  object-fit:cover;
  border-radius:18px;
  border:6px solid rgba(255,255,255,0.92);
  box-shadow:0 20px 60px rgba(0,0,0,0.18);
  opacity:0.98;
  filter: saturate(1.18) contrast(1.08) brightness(1.03);
  cursor: zoom-in;
  transform: rotate(var(--r));
  will-change: transform, left, top;
}

.bg-wash{
  position:fixed;
  inset:0;
  background:rgba(255,255,255,0.18);
  z-index:1;
  pointer-events:none;
}

/* ===== MAIN CARD ===== */
.card{
  position:relative;
  z-index:2;
  width:min(760px,94vw);
  margin:auto;
  margin-top:10vh;
  background:rgba(255,255,255,0.86);
  border-radius:24px;
  padding:44px 34px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,0.10);
  transform:scale(1.06);
}

h1{ font-size:46px; margin:0 0 12px; }
p{ font-size:18px; margin:0 0 22px; }

.buttons{
  display:flex;
  gap:18px;
  justify-content:center;
  flex-wrap:wrap;
  position: relative;
}

button{
  border:none;
  border-radius:999px;
  padding:18px 30px;
  font-size:20px;
  font-weight:800;
  cursor:pointer;
  box-shadow:0 12px 30px rgba(0,0,0,0.15);
  transition:transform .15s, filter .15s, left .18s ease, top .18s ease, opacity .15s;
  user-select:none;
}

button:active{ transform:translateY(1px) scale(0.99); }

#yesBtn{
  background:linear-gradient(135deg,#ff4fa3,#ff7cc8);
  color:white;

  --tx: 0px;
  --ty: 0px;
  --s: 1;
  transform: translate(var(--tx), var(--ty)) scale(var(--s));
  will-change: transform;
}

#yesBtn.locked{
  opacity:0.75;
  filter: grayscale(0.1) brightness(0.95);
}

/* No stays on-screen and drifts */
#noBtn{
  background:linear-gradient(135deg,#e9e9ee,#ffffff);
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

/* Prompt box */
.prompt{
  margin-top:18px;
  padding:14px;
  font-size:18px;
  border-radius:16px;
  background:rgba(255,79,163,0.08);
  border:1px dashed rgba(255,79,163,0.3);
}

/* ===== HEARTS ===== */
.heart{
  position:absolute;
  font-size:24px;
  animation:floatUp 7.5s linear forwards;
  pointer-events:none;
  z-index:50;
  filter: drop-shadow(0 10px 14px rgba(0,0,0,0.10));
}

@keyframes floatUp{
  from{ transform:translateY(0) scale(0.95); opacity:0.9; }
  to{ transform:translateY(-125vh) scale(1.5); opacity:0; }
}

/* ===== LOVE NOTES ===== */
.note{
  position:fixed;
  z-index:8;
  padding:10px 12px;
  border-radius:14px;
  background:rgba(255,255,255,0.92);
  border:1px solid rgba(255,79,163,0.22);
  box-shadow:0 12px 30px rgba(0,0,0,0.14);
  font-weight:800;
  font-size:14px;
  pointer-events:none;
  transform: translate(-50%, -50%) scale(0.98);
  animation: notePop 1.7s ease forwards;
}

@keyframes notePop{
  0%{ opacity:0; transform: translate(-50%, -50%) scale(0.92) translateY(10px); }
  15%{ opacity:1; transform: translate(-50%, -50%) scale(1) translateY(0); }
  100%{ opacity:0; transform: translate(-50%, -50%) scale(1.03) translateY(-18px); }
}

/* ===== MODAL / GIFT PAGE ===== */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

/* The gift image is the BACKGROUND here */
.modal{
  position:relative;
  width:min(920px, 96vw);
  height:min(720px, 92vh);
  border-radius:26px;
  overflow:hidden;
  box-shadow:0 30px 90px rgba(0,0,0,0.35);
  background: url("photos/gift.jpg") center/cover no-repeat;
}

/* dark overlay for text readability */
.modal::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.45);
}

/* close button */
.close{
  position:absolute;
  z-index:5;
  top:14px;
  right:14px;
  width:44px;
  height:44px;
  border-radius:50%;
  border:none;
  cursor:pointer;
  font-size:18px;
  font-weight:900;
  background:rgba(255,255,255,0.90);
  box-shadow:0 12px 30px rgba(0,0,0,0.18);
}

/* content inside the gift page */
.modalContent{
  position:relative;
  z-index:4;
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:24px;
  color:white;
}

.modalTitle{
  font-size:56px;
  line-height:1.05;
  margin:0 0 10px;
  text-shadow:0 10px 28px rgba(0,0,0,0.35);
}

.modalSub{
  font-size:24px;
  margin:0 0 16px;
  text-shadow:0 10px 28px rgba(0,0,0,0.35);
}

/* ===== PRESENT ===== */
.present{
  width:360px;
  height:310px;
  position:relative;
  margin-top:8px;
}

.box{
  position:absolute;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:320px;
  height:160px;
  background:linear-gradient(135deg,#ff4fa3,#ff9ad6);
  border-radius:22px;
  box-shadow: 0 22px 45px rgba(255,79,163,0.25);
}

.box::before{
  content:"";
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:58px;
  height:100%;
  background:rgba(255,255,255,0.55);
  border-radius: 16px;
}

.lid{
  position:absolute;
  bottom:130px;
  left:50%;
  transform:translateX(-50%);
  width:360px;
  height:86px;
  background:linear-gradient(135deg,#ff2f90,#ff82c7);
  border-radius:22px;
  transform-origin:60% 90%;
  box-shadow: 0 16px 34px rgba(0,0,0,0.14);
}

.bow{
  position:absolute;
  left:50%;
  bottom:198px;
  transform:translateX(-50%);
  font-size:68px;
  filter: drop-shadow(0 10px 14px rgba(0,0,0,0.12));
}

.reveal{
  position:absolute;
  left:50%;
  bottom:20px;
  width:360px;
  height:180px;
  transform:translateX(-50%);
  pointer-events:none;
}

.teddy, .flowers{
  position:absolute;
  left:50%;
  bottom:0;
  font-size:130px;
  opacity:0;
  transform:translateX(-50%) translateY(40px) scale(0.9);
  filter: drop-shadow(0 18px 24px rgba(0,0,0,0.12));
}

@keyframes lidOpen{
  0%{ transform:translateX(-50%) rotate(0deg) translateY(0); }
  100%{ transform:translateX(-50%) rotate(-28deg) translateY(-38px); }
}
@keyframes lidFallOff{
  0%{ transform:translateX(-50%) rotate(-28deg) translateY(-38px); opacity:1; }
  55%{ opacity:1; }
  100%{ transform:translateX(-50%) rotate(-120deg) translate(120px, 180px); opacity:0; }
}
@keyframes bowFallOff{
  0%{ transform:translateX(-50%) translateY(-18px) rotate(-10deg); opacity:1; }
  60%{ opacity:1; }
  100%{ transform:translateX(-50%) translate(90px, 200px) rotate(30deg); opacity:0; }
}
@keyframes boxDisappear{
  0%{ transform:translateX(-50%) scale(1); opacity:1; filter: blur(0px); }
  100%{ transform:translateX(-50%) scale(0.86); opacity:0; filter: blur(1px); }
}
@keyframes teddyLeft{
  0%{ opacity:0; transform:translateX(-50%) translateY(40px) scale(0.9); }
  100%{ opacity:1; transform:translateX(calc(-50% - 85px)) translateY(0) scale(1); }
}
@keyframes flowersRight{
  0%{ opacity:0; transform:translateX(-50%) translateY(40px) scale(0.9); }
  100%{ opacity:1; transform:translateX(calc(-50% + 85px)) translateY(0) scale(1); }
}

.present.stage1 .lid{ animation: lidOpen .85s cubic-bezier(.2,.9,.2,1) forwards; }
.present.stage2 .lid{ animation: lidFallOff .95s cubic-bezier(.2,.9,.2,1) forwards; }
.present.stage2 .bow{ animation: bowFallOff .95s cubic-bezier(.2,.9,.2,1) forwards; }
.present.stage3 .box{ animation: boxDisappear 1.1s ease forwards; }
.present.stage4 .teddy{ animation: teddyLeft .9s cubic-bezier(.2,.9,.2,1) forwards; }
.present.stage4 .flowers{ animation: flowersRight .9s cubic-bezier(.2,.9,.2,1) forwards; }

/* ===== LIGHTBOX (home screen photos) ===== */
.lightbox{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
.lightbox img{
  width:min(740px, 92vw);
  max-height:88vh;
  object-fit:contain;
  border-radius:18px;
  border:6px solid rgba(255,255,255,0.92);
  box-shadow:0 30px 90px rgba(0,0,0,0.45);
}

/* ===== SHAKE ===== */
@keyframes shake {
  0% { transform: translate(0,0); }
  25% { transform: translate(6px, -6px); }
  50% { transform: translate(-6px, 6px); }
  75% { transform: translate(4px, -4px); }
  100% { transform: translate(0,0); }
}
body.celebrate { animation: shake 0.6s ease; }

@media(max-width:480px){
  h1{font-size:34px;}
  .photo{width:140px;height:140px;}
  .card{transform:none; padding:34px 18px;}
  .modalTitle{font-size:40px;}
  .modalSub{font-size:18px;}
  .teddy,.flowers{font-size:110px;}
}
</style>
</head>

<body>

<div class="bg-collage" id="bg"></div>
<div class="bg-wash"></div>

<div class="card">
  <h1>Will you be my Valentine? üíò</h1>
  <p>Choose wisely‚Ä¶ üëÄ</p>

  <div class="buttons" id="btnRow">
    <button id="yesBtn" class="locked">Yes üíñ</button>
    <button id="noBtn">No üôÉ</button>
  </div>

  <div class="prompt" id="prompt">Unlocking Yes‚Ä¶ ‚è≥</div>
</div>

<!-- Gift page -->
<div class="overlay" id="overlay">
  <div class="modal" id="modal">
    <button class="close" id="close">‚úï</button>

    <div class="modalContent">
      <h2 class="modalTitle" id="modalTitle">YAYAYAYAYAYA üéâ</h2>
      <p class="modalSub" id="modalSub">A little something for you!</p>

      <div class="present" id="present">
        <div class="bow">üéÄ</div>
        <div class="lid"></div>
        <div class="box"></div>

        <div class="reveal" aria-hidden="true">
          <div class="teddy">üß∏</div>
          <div class="flowers">üíê</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="lightbox" id="lightbox">
  <img id="lightboxImg" alt="Photo preview">
</div>

<script>
/**
 * FILES YOU NEED IN YOUR REPO:
 * - index.html
 * - photos/img1.jpg ... img5.jpg
 * - photos/gift.jpg   <-- your NEW gift background image
 */
const photos = [
  "photos/img1.jpg",
  "photos/img2.jpg",
  "photos/img3.jpg",
  "photos/img4.jpg",
  "photos/img5.jpg"
];

const bg = document.getElementById("bg");
const promptBox = document.getElementById("prompt");
const yes = document.getElementById("yesBtn");
const no = document.getElementById("noBtn");

const overlay = document.getElementById("overlay");
const present = document.getElementById("present");
const close = document.getElementById("close");

const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightboxImg");

/* Prompt hold */
let promptHoldUntil = 0;
function setPrompt(msg, holdMs = 1800){
  promptBox.textContent = msg;
  promptHoldUntil = Date.now() + holdMs;
}

/* Hearts */
function heart(x,y, big=false){
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = Math.random() > 0.5 ? "üíñ" : "üíó";
  h.style.left = x + "px";
  h.style.top  = y + "px";
  h.style.fontSize = (big ? (30 + Math.random()*18) : (20 + Math.random()*14)) + "px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(), 7500);
}
setInterval(()=>{
  if (overlay.style.display === "flex") return;
  heart(Math.random()*innerWidth, innerHeight+20);
}, 180);

/* Love notes */
const loveNotes = [
  "psst‚Ä¶ click Yes üíñ",
  "you‚Äôre adorable üòå",
  "good choice incoming üëÄ",
  "don‚Äôt fight it üòè",
  "this is your sign ‚ú®",
  "team YES üò§üíï"
];
let lastNoteAt = 0;
document.addEventListener("mousemove", (e) => {
  if (overlay.style.display === "flex") return;
  const now = Date.now();
  if (now - lastNoteAt < 1800) return;
  lastNoteAt = now;

  const n = document.createElement("div");
  n.className = "note";
  n.textContent = loveNotes[Math.floor(Math.random()*loveNotes.length)];
  n.style.left = (e.clientX + (Math.random()*30 - 15)) + "px";
  n.style.top  = (e.clientY + (Math.random()*30 - 15)) + "px";
  document.body.appendChild(n);
  setTimeout(()=>n.remove(), 1700);
});

/* ===== Background photos float around (home screen) ===== */
const photoObjs = [];
function buildPhotos(){
  bg.innerHTML = "";
  photoObjs.length = 0;

  const W = innerWidth, H = innerHeight;
  const count = Math.min(60, Math.max(32, Math.floor(W * H / 35000)));

  for(let i=0;i<count;i++){
    const img = document.createElement("img");
    img.src = photos[i % photos.length];
    img.className = "photo";

    const size = (Math.random() < 0.25) ? 160 : (Math.random() < 0.5 ? 180 : 200);
    img.style.width = size + "px";
    img.style.height = size + "px";

    let x, y;
    const centerBox = { x1: W * 0.20, x2: W * 0.80, y1: H * 0.10, y2: H * 0.75 };
    let tries = 0;
    do{
      x = Math.random() * (W - size);
      y = Math.random() * (H - size);
      tries++;
    } while (tries < 50 && (x > centerBox.x1 && x < centerBox.x2 && y > centerBox.y1 && y < centerBox.y2));

    const speed = 0.010 + Math.random() * 0.018;
    const angle = Math.random() * Math.PI * 2;
    const vx = Math.cos(angle) * speed;
    const vy = Math.sin(angle) * speed;

    const rot = (Math.random() * 32 - 16);
    img.style.setProperty("--r", rot + "deg");

    img.style.left = x + "px";
    img.style.top  = y + "px";

    img.addEventListener("click", () => {
      lightboxImg.src = img.src;
      lightbox.style.display = "flex";
    });

    bg.appendChild(img);
    photoObjs.push({ el: img, x, y, vx, vy, size, rot });
  }
}

lightbox.addEventListener("click", () => {
  lightbox.style.display = "none";
  lightboxImg.src = "";
});

let lastT = performance.now();
function animatePhotos(t){
  const dt = Math.min(40, t - lastT);
  lastT = t;

  const W = innerWidth, H = innerHeight;

  for(const p of photoObjs){
    p.x += p.vx * dt;
    p.y += p.vy * dt;

    if (p.x <= 0) { p.x = 0; p.vx *= -1; }
    if (p.y <= 0) { p.y = 0; p.vy *= -1; }
    if (p.x + p.size >= W) { p.x = W - p.size; p.vx *= -1; }
    if (p.y + p.size >= H) { p.y = H - p.size; p.vy *= -1; }

    // avoid center card zone
    const cx1 = W * 0.20, cx2 = W * 0.80, cy1 = H * 0.10, cy2 = H * 0.75;
    if (p.x > cx1 && p.x < cx2 && p.y > cy1 && p.y < cy2){
      p.vx += (p.x < W/2 ? -0.002 : 0.002);
      p.vy += (p.y < H/2 ? -0.002 : 0.002);
      const sp = Math.hypot(p.vx, p.vy);
      const max = 0.035;
      if (sp > max){ p.vx = (p.vx/sp)*max; p.vy = (p.vy/sp)*max; }
    }

    p.el.style.left = p.x + "px";
    p.el.style.top  = p.y + "px";
    p.el.style.transform = `rotate(${p.rot}deg)`;
  }

  requestAnimationFrame(animatePhotos);
}

/* Rotating prompt */
const rotatingPrompts = [
  "Be honest‚Ä¶ you‚Äôre gonna press Yes üíï",
  "Just click Yes already üòå",
  "I promise this is the right choice üëÄ",
  "Don‚Äôt overthink it üòè",
  "You KNOW what to do üíñ"
];
let promptIndex = 0;
setInterval(() => {
  if (overlay.style.display === "flex") return;
  if (Date.now() < promptHoldUntil) return;
  promptBox.textContent = rotatingPrompts[promptIndex];
  promptIndex = (promptIndex + 1) % rotatingPrompts.length;
}, 2000);

/* ===== 10-second countdown for YES ===== */
let yesLocked = true;
let countdown = 10;

(function startCountdown(){
  yes.classList.add("locked");
  setPrompt(`Unlocking Yes in ${countdown}‚Ä¶ ‚è≥`, 1000);

  const timer = setInterval(() => {
    countdown--;
    if (countdown <= 0) {
      yesLocked = false;
      yes.classList.remove("locked");
      setPrompt("Okay‚Ä¶ now click Yes üíò", 2500);
      clearInterval(timer);
      return;
    }
    setPrompt(`Unlocking Yes in ${countdown}‚Ä¶ ‚è≥`, 1000);
  }, 1000);
})();

/* ===== No button drifts but stays visible ===== */
const noState = { x: 0, y: 0, vx: 0.06, vy: 0.05 };

function initNo(){
  const rect = no.getBoundingClientRect();
  noState.x = innerWidth * 0.62 - rect.width/2;
  noState.y = innerHeight * 0.58 - rect.height/2;

  const speed = 0.045 + Math.random() * 0.03;
  const ang = Math.random() * Math.PI * 2;
  noState.vx = Math.cos(ang) * speed;
  noState.vy = Math.sin(ang) * speed;

  placeNo();
}

function placeNo(){
  const rect = no.getBoundingClientRect();
  const pad = 16;
  const maxX = innerWidth - rect.width - pad;
  const maxY = innerHeight - rect.height - pad;

  noState.x = Math.max(pad, Math.min(maxX, noState.x));
  noState.y = Math.max(pad, Math.min(maxY, noState.y));

  no.style.left = noState.x + "px";
  no.style.top  = noState.y + "px";
}

let lastNoT = performance.now();
function animateNo(t){
  const dt = Math.min(40, t - lastNoT);
  lastNoT = t;

  const rect = no.getBoundingClientRect();
  const pad = 16;
  const maxX = innerWidth - rect.width - pad;
  const maxY = innerHeight - rect.height - pad;

  noState.x += noState.vx * dt;
  noState.y += noState.vy * dt;

  if (noState.x <= pad) { noState.x = pad; noState.vx *= -1; }
  if (noState.y <= pad) { noState.y = pad; noState.vy *= -1; }
  if (noState.x >= maxX) { noState.x = maxX; noState.vx *= -1; }
  if (noState.y >= maxY) { noState.y = maxY; noState.vy *= -1; }

  placeNo();
  requestAnimationFrame(animateNo);
}

/* gentle cursor-avoid without teleport */
document.addEventListener("mousemove", (e) => {
  if (overlay.style.display === "flex") return;

  const r = no.getBoundingClientRect();
  const cx = r.left + r.width/2;
  const cy = r.top + r.height/2;

  const dx = cx - e.clientX;
  const dy = cy - e.clientY;
  const dist = Math.hypot(dx, dy);

  if (dist < 160) {
    const push = (160 - dist) / 160;
    noState.vx += (dx / (dist || 1)) * 0.01 * push;
    noState.vy += (dy / (dist || 1)) * 0.01 * push;

    const sp = Math.hypot(noState.vx, noState.vy);
    const max = 0.10;
    if (sp > max) {
      noState.vx = (noState.vx / sp) * max;
      noState.vy = (noState.vy / sp) * max;
    }
  }
});

/* No click still trolls */
let fakeNoCount = 0;
no.addEventListener("click", () => {
  fakeNoCount++;
  const msgs = [
    "Nice try üòå That button doesn‚Äôt work.",
    "Still not an option üôÉ",
    "Okay now you‚Äôre just playing üòè",
    "Alright‚Ä¶ enough. Click Yes üíñ"
  ];
  setPrompt(msgs[Math.min(fakeNoCount - 1, msgs.length - 1)], 2200);
  heart(Math.random() * innerWidth, innerHeight, true);
});

/* ===== Present animation ===== */
function resetPresent(){
  present.classList.remove("stage1","stage2","stage3","stage4");
  void present.offsetWidth;
}

/* Hearts pour out from the box */
function startHeartPour(durationMs){
  const box = present.querySelector(".box");
  if (!box) return;

  const start = Date.now();
  const interval = setInterval(() => {
    const now = Date.now();
    if (now - start > durationMs){
      clearInterval(interval);
      return;
    }
    const r = box.getBoundingClientRect();
    const ox = r.left + r.width/2;
    const oy = r.top + 30;

    const bursts = 10 + Math.floor(Math.random()*10); // more hearts
    for(let i=0;i<bursts;i++){
      heart(ox + (Math.random()*170 - 85), oy + (Math.random()*45 - 10), true);
    }
  }, 55);
}

function runPresentAnimation(){
  resetPresent();
  present.classList.add("stage1");
  setTimeout(()=>present.classList.add("stage2"),  900);
  setTimeout(()=>startHeartPour(1600), 850);
  setTimeout(()=>present.classList.add("stage3"),  1650);
  setTimeout(()=>present.classList.add("stage4"),  2400);
}

/* Tiny chime */
function playChime(){
  try{
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const ctx = new AudioCtx();
    const o1 = ctx.createOscillator();
    const o2 = ctx.createOscillator();
    const g  = ctx.createGain();
    o1.type = "sine";
    o2.type = "triangle";
    o1.frequency.value = 880;
    o2.frequency.value = 1320;
    g.gain.value = 0.0001;
    o1.connect(g); o2.connect(g); g.connect(ctx.destination);
    const t = ctx.currentTime;
    g.gain.exponentialRampToValueAtTime(0.12, t + 0.03);
    g.gain.exponentialRampToValueAtTime(0.0001, t + 0.35);
    o1.start(t); o2.start(t + 0.02);
    o1.stop(t + 0.38); o2.stop(t + 0.38);
    setTimeout(()=>ctx.close(), 500);
  }catch(err){}
}

/* YES click */
function triggerYes(){
  setPrompt("BEST. DECISION. EVER. üíû", 2500);
  overlay.style.display = "flex";

  runPresentAnimation();
  playChime();

  document.body.classList.add("celebrate");
  setTimeout(()=>document.body.classList.remove("celebrate"), 600);

  const cx = innerWidth / 2;
  const cy = innerHeight / 2;
  for(let i=0;i<70;i++){
    setTimeout(()=>heart(cx + (Math.random()*420-210), cy + (Math.random()*300-150), true), i*25);
  }
}

yes.addEventListener("click", (e)=> {
  if (yesLocked) {
    e.preventDefault();
    setPrompt(`Not yet üòå ${countdown}s left‚Ä¶`, 1200);
    return;
  }
  triggerYes();
});

/* typing yes triggers */
let keyBuffer = "";
document.addEventListener("keydown", (e) => {
  if (overlay.style.display === "flex") return;
  if (e.key.length === 1) {
    keyBuffer += e.key.toLowerCase();
    keyBuffer = keyBuffer.slice(-6);
    if (!yesLocked && keyBuffer.includes("yes")) {
      triggerYes();
      keyBuffer = "";
    }
  }
});

/* close modal */
close.addEventListener("click", ()=> overlay.style.display = "none");
overlay.addEventListener("click", (e)=> { if(e.target === overlay) overlay.style.display = "none"; });

/* init */
buildPhotos();
requestAnimationFrame(animatePhotos);

initNo();
requestAnimationFrame(animateNo);

addEventListener("resize", () => {
  buildPhotos();
  initNo();
});
</script>

</body>
</html>